"use strict";(self.webpackChunkiot_docs=self.webpackChunkiot_docs||[]).push([[54],{2848:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var i=t(5893),o=t(1151);const s={sidebar_position:2,title:"Getting Started"},r="Quickly Getting Started with Thor",a={id:"getting-started",title:"Getting Started",description:"We'll take a quick look at how we can easily and quickly start using",source:"@site/i18n/fa/docusaurus-plugin-content-docs/current/getting-started.mdx",sourceDirName:".",slug:"/getting-started",permalink:"/docs/fa/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/troweb/documentation/tree/main/i18n/fa/docusaurus-plugin-content-docs/current/getting-started.mdx",tags:[],version:"current",lastUpdatedBy:"Amirhossein Shakeri",lastUpdatedAt:1705214910,formattedLastUpdatedAt:"\u06f1\u06f4 \u0698\u0627\u0646\u0648\u06cc\u0647 \u06f2\u06f0\u06f2\u06f4",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Getting Started"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/fa/"},next:{title:"Concepts",permalink:"/docs/fa/concepts/"}},c={},d=[{value:"Preparing the Account",id:"preparing-the-account",level:2},{value:"Development Environment",id:"development-environment",level:2},{value:"API Token",id:"api-token",level:3},{value:"Connecting via Websockets",id:"connecting-via-websockets",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"quickly-getting-started-with-thor",children:"Quickly Getting Started with Thor"}),"\n",(0,i.jsx)(n.p,{children:"We'll take a quick look at how we can easily and quickly start using\nthe system in a flash."}),"\n",(0,i.jsx)(n.h2,{id:"preparing-the-account",children:"Preparing the Account"}),"\n",(0,i.jsx)(n.p,{children:"In order to use Thor Electronics services, we need to have an account."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Signup for a new account at ",(0,i.jsx)(n.a,{href:"https://thor-electronics.ir/signup",children:"thor-electronics.ir/signup"})," and verify your phone number if prompted."]}),"\n",(0,i.jsxs)(n.li,{children:["Create a new building by clicking on the ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"Create Group"})})," button."]}),"\n",(0,i.jsx)(n.li,{children:"Add the first device on the building we've just created."}),"\n",(0,i.jsx)(n.li,{children:"Done!"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Now that we've set up our account, let's continue to setting up our\ndevelopment environment."}),"\n",(0,i.jsx)(n.h2,{id:"development-environment",children:"Development Environment"}),"\n",(0,i.jsx)(n.h3,{id:"api-token",children:"API Token"}),"\n",(0,i.jsxs)(n.p,{children:["Check out how you can\n",(0,i.jsx)(n.a,{href:"/#obtaining-api-token",children:"Obtain an API Token as a User or a Device"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"connecting-via-websockets",children:"Connecting via Websockets"}),"\n",(0,i.jsxs)(n.p,{children:["Thor, accepts websocket connections on ",(0,i.jsx)(n.code,{children:"/api/v1/control"})," for devices\nand ",(0,i.jsx)(n.code,{children:"/api/v1/control/manage/{groupId}"})," for users. To manage a\n",(0,i.jsx)(n.a,{href:"/concepts#group",children:"group"}),"(Building or something), use the manage\nendpoint(2nd endpoint)."]}),"\n",(0,i.jsxs)(n.p,{children:["As soon as we stablish the websocket connection, Thor sends a message\nto the client containing ",(0,i.jsx)(n.code,{children:"AUTHENTICATE"})," signal."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JSON",metastring:'title="Authentication Signal by Thor"',children:'{ "signal": "AUTHENTICATE" }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This means Thor has accepted our connection and is now waiting for our\n",(0,i.jsx)(n.a,{href:"/#obtaining-api-token",children:"authentication API token we've obtained before"}),"\nto connect us to the proper cluster and hub."]}),"\n",(0,i.jsx)(n.p,{children:"So, we need to send our API token in a message:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JSON",children:'{\n  "signal": "AUTHENTICATE",\n  "payload": {\n    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Thor will cancel the connection if we don't send the API token within\n10 seconds."})}),"\n",(0,i.jsx)(n.p,{children:"After we send the message, if there's no problem with the\nauthentication, thor will begin to send informative messages over the\nwebsocket connection and connect us to the target cluster and hub.\nOtherwise, we'll receive an authentication error message which means\nthere might be some problems with JSON parsing or the token might be\ninvalid or expired etc."})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var i=t(7294);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);